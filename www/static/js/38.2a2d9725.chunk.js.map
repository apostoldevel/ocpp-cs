{"version":3,"sources":["routes/Admin/Console/Console.js","routes/Admin/Title.js"],"names":["TextArea","Input","TabPane","Tabs","Console","React","Component","constructor","props","_this","super","this","pendingStart","setState","pending","pendingEnd","m","key","prefix","arguments","length","undefined","intl","formatMessage","id","submit","async","result","context","api","q","state","query","JSON","parse","params","render","_jsxs","_Fragment","children","_jsx","Title","title","url","icon","ExportOutlined","Space","direction","style","width","Card","className","value","onChange","e","target","placeholder","onPressEnter","rows","Button","loading","onClick","type","Spin","spinning","defaultActiveKey","tab","ObjectInspector","expandLevel","data","TableInspector","contextType","Context","injectIntl","Helmet","Link","to"],"mappings":"4GAAA,sIAQA,MAAM,SAAEA,GAAaC,KACf,QAAEC,GAAYC,IAEpB,MAAMC,UAAgBC,IAAMC,UAE1BC,YAAYC,GAAQ,IAADC,EACjBC,MAAMF,GAAMC,EAAAE,KAAC,KAQfC,aAAe,KACbD,KAAKE,SAAS,CAAEC,SAAS,KACzB,KACFC,WAAa,KACXJ,KAAKE,SAAS,CAAEC,SAAS,KACzB,KACFE,EAAI,SAACC,GAAoC,IAA/BC,EAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,iBACjB,MAAM,KAAEG,GAASb,EAAKD,MACtB,OAAOc,EAAKC,cAAc,CAAEC,GAAIN,EAASD,GAC3C,EAAE,KACFQ,OAASC,UACPf,KAAKC,eACL,IAAIe,QAAehB,KAAKiB,QAAQC,IAAIC,EAClCnB,KAAKoB,MAAMC,MACXC,KAAKC,MAAMvB,KAAKoB,MAAMI,QAAU,OAElCxB,KAAKI,aACLJ,KAAKE,SAAS,CAAEc,YAxBhBhB,KAAKoB,MAAQ,CACXjB,SAAS,EACTkB,MAAO,GACPG,OAAQ,GACRR,OAAQ,KAEZ,CAoBAS,SACE,OACEC,eAAAC,WAAA,CAAAC,SAAA,CACEC,cAACC,IAAK,CACJC,MAAO/B,KAAKK,EAAE,WACd2B,IAAI,iBACJC,KAAMJ,cAACK,IAAc,MAEvBR,eAACS,IAAK,CAACC,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAASV,SAAA,CACnDC,cAACU,IAAI,CAACF,MAAO,CAAEC,MAAO,QAAUE,UAAU,UAASZ,SACjDF,eAACS,IAAK,CAACC,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAASV,SAAA,CACnDC,cAACvC,IAAK,CACJmD,MAAOzC,KAAKoB,MAAMC,MAClBqB,SAAWC,GAAM3C,KAAKE,SAAS,CAAEmB,MAAOsB,EAAEC,OAAOH,QACjDI,YAAa7C,KAAKK,EAAE,SACpByC,aAAc9C,KAAKc,SAErBe,cAACxC,EAAQ,CACP0D,KAAM,EACNN,MAAOzC,KAAKoB,MAAMI,OAClBkB,SAAWC,GAAM3C,KAAKE,SAAS,CAAEsB,OAAQmB,EAAEC,OAAOH,QAClDI,YAAa7C,KAAKK,EAAE,YAEtBwB,cAACmB,IAAM,CACLC,QAASjD,KAAKoB,MAAMjB,QACpB+C,QAASlD,KAAKc,OACdqC,KAAK,UACLX,UAAU,kBAAiBZ,SAE1B5B,KAAKK,EAAE,iBAKdwB,cAACU,IAAI,CAACF,MAAO,CAAEC,MAAO,QAAUE,UAAU,YAAWZ,SACnDC,cAACuB,IAAI,CAACC,SAAUrD,KAAKoB,MAAMjB,QAAQyB,SACjCF,eAAClC,IAAI,CAAC8D,iBAAiB,SAAQ1B,SAAA,CAC7BC,cAACtC,EAAO,CAACgE,IAAKvD,KAAKK,EAAE,UAAUuB,SAC7BC,cAAC2B,IAAe,CAACC,YAAa,EAAGC,KAAM1D,KAAKoB,MAAMJ,UADhB,UAGpCa,cAACtC,EAAO,CAACgE,IAAKvD,KAAKK,EAAE,SAASuB,SAC5BC,cAAC8B,IAAc,CAACD,KAAM1D,KAAKoB,MAAMJ,UADA,qBASjD,EA/EIvB,EACGmE,YAAcC,IAgFRC,sBAAWrE,E,mCC5F1B,4EAIe,SAASqC,EAAMjC,GAC5B,OACE6B,eAAAC,WAAA,CAAAC,SAAA,CACEC,cAACkC,IAAM,CAAAnC,SACLC,cAAA,SAAAD,SAAQ/B,EAAMkC,UAEhBF,cAAA,MAAIW,UAAU,gBAAeZ,SAC3BC,cAACmC,IAAI,CAACC,GAAIpE,EAAMmC,IAAKQ,UAAU,eAAcZ,SAC3CF,eAACS,IAAK,CAAAP,SAAA,CACH/B,EAAMoC,KACNpC,EAAMkC,eAMnB,C","file":"static/js/38.2a2d9725.chunk.js","sourcesContent":["import React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Tabs, Card, Input, Space, Button, Spin } from \"antd\";\nimport { ObjectInspector, TableInspector } from \"react-inspector\";\nimport Context from \"../../../Context\";\nimport Title from \"../Title\";\nimport { ExportOutlined } from \"@ant-design/icons\";\n\nconst { TextArea } = Input;\nconst { TabPane } = Tabs;\n\nclass Console extends React.Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n      pending: false,\n      query: \"\",\n      params: \"\",\n      result: null,\n    };\n  }\n  pendingStart = () => {\n    this.setState({ pending: true });\n  };\n  pendingEnd = () => {\n    this.setState({ pending: false });\n  };\n  m = (key, prefix = \"admin.console.\") => {\n    const { intl } = this.props;\n    return intl.formatMessage({ id: prefix + key });\n  };\n  submit = async () => {\n    this.pendingStart();\n    let result = await this.context.api.q(\n      this.state.query,\n      JSON.parse(this.state.params || \"{}\")\n    );\n    this.pendingEnd();\n    this.setState({ result });\n  };\n  render() {\n    return (\n      <>\n        <Title\n          title={this.m(\"console\")}\n          url=\"/admin/console\"\n          icon={<ExportOutlined />}\n        />\n        <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n          <Card style={{ width: \"100%\" }} className=\"gx-mb-0\">\n            <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n              <Input\n                value={this.state.query}\n                onChange={(e) => this.setState({ query: e.target.value })}\n                placeholder={this.m(\"query\")}\n                onPressEnter={this.submit}\n              />\n              <TextArea\n                rows={3}\n                value={this.state.params}\n                onChange={(e) => this.setState({ params: e.target.value })}\n                placeholder={this.m(\"params\")}\n              />\n              <Button\n                loading={this.state.pending}\n                onClick={this.submit}\n                type=\"primary\"\n                className=\"gx-mb-0 gx-mt-2\"\n              >\n                {this.m(\"submit\")}\n              </Button>\n            </Space>\n          </Card>\n\n          <Card style={{ width: \"100%\" }} className=\"inspector\">\n            <Spin spinning={this.state.pending}>\n              <Tabs defaultActiveKey=\"object\">\n                <TabPane tab={this.m(\"object\")} key=\"object\">\n                  <ObjectInspector expandLevel={2} data={this.state.result} />\n                </TabPane>\n                <TabPane tab={this.m(\"table\")} key=\"table\">\n                  <TableInspector data={this.state.result} />\n                </TabPane>\n              </Tabs>\n            </Spin>\n          </Card>\n        </Space>\n      </>\n    );\n  }\n}\nexport default injectIntl(Console);\n","import { Space } from \"antd\";\nimport React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\nexport default function Title(props) {\n  return (\n    <>\n      <Helmet>\n        <title>{props.title}</title>\n      </Helmet>\n      <h2 className=\"title gx-mb-4\">\n        <Link to={props.url} className=\"gx-text-dark\">\n          <Space>\n            {props.icon}\n            {props.title}\n          </Space>\n        </Link>\n      </h2>\n    </>\n  );\n}\n"],"sourceRoot":""}